## 6장 타입 선언과 @types

<br>

### 아이템45 devDependencies에 typescript와 @types 추가하기

- **요약**
  - 타입스크립트를 시스템 레벨로 설치하면 안 됩니다. 타입스크립트를 프로젝트의 devDependencies에 포함시키고 팀원 모두가 동일한 버전을 사용하도록 해야 합니다.
  - @types 의존성은 dependencies가 아니라 devDependencies에 포함시켜야 합니다. 런타임에 @types가 필요한 경우라면 별도의 작업이 필요할 수 있습니다.

<br>

### 아이템46 타입 선언과 관련된 세 가지 버전 이해하기

- **요약**
  - `@types` 의존성과 관련된 세 가지 버전이 있습니다. 라이브러리 버전, `@types` 버전, 타입스크립트 버전입니다.
  - 라이브러리를 업데이트하는 경우, 해당 `@types` 역시 업데이트해야 합니다.
  - 타입 선언을 라이브러리에 포함하는 것과 `DefinitelyTyped`에 공개하는 것 사이의 장단점을 이해해야 합니다. 타입스크립트로 작성된 라이브러리라면 타입 선언을 자체적으로 포함하고, 자바스크립트로 작성된 라이브러리라면 타입 선언을 `DefinitelyTyped`에 공개하는 것이 좋습니다.

<br>

### 아이템47 공개 API에 등장하는 모든 타입을 익스포트하기

- **요약**
  - 공개 메서드에 등장한 어떤 형태의 타입이든 익스포트합시다. 어차피 라이브러리 사용자가 추출할 수 있으므로, 익스포트하기 쉽게 만드는 것이 좋습니다.

<br>

### 아이템48 API 주석에 TSDoc 사용하기

- **요약**
  - 익스포트된 함수, 클래스, 타입에 주석을 달 때는 JSDoc/TSDoc 형태를 사용합시다. JSDoc/TSDoc 형태의 주석을 달면 편집기가 주석 정보를 표시해 줍니다.
  - @param, @returns 구문과 문서 서식을 위해 마크다운을 사용할 수 있습니다.
  - 주석에 타입 정보를 포함하면 안 됩니다.

<br>

### 아이템 49 콜백에서 this에 대한 타입 제공하기

- **요약**
  - this 바인딩이 동작하는 원리를 이해해야 합니다.
  - 콜백 함수에서 this를 사용해야 한다면, 타입 정보를 명시해야 합니다.

<br>

### 아이템50 오버로딩 타입보다는 조건부 타입을 사용하기

- **요약**
  - 오버로딩 타입보다 조건부 타입을 사용하는 것이 좋습니다. 조건부 타입은 추가적인 오버로딩 없이 유니온 타입을 지원할 수 있습니다.

<br>

### 아이템51 의존성 분리를 위해 미러 타입 사용하기

- **요약**
  - 필수가 아닌 의존성을 분리할 때는 구조적 타이핑을 사용하면 됩니다.
  - 공개한 라이브러리를 사용하는 자바스크립트 사용자가 `@types` 의존성을 가지지 않게 해야 합니다. 그리고 웹 개발자가 NodeJS 관련된 의존성을 가지지 않게 해야 합니다.

<br>

### 아이템52 테스팅 타입의 함정에 주의하기

- **요약**
  - 타입을 테스트할 때는 특히 함수 타입의 동일성(equality)과 할당 가능성(assignability)의 차이점을 알고 있어야 합니다.
  - 콜백이 있는 함수를 테스트할 때, 콜백 매개변수의 추론된 타입을 체크해야 합니다. 또한 this가 API의 일부분이라면 역시 테스트해야 합니다.
  - 타입 관련된 테스트에서 any를 주의해야 합니다. 더 엄격한 테스트를 위해 `dtslint` 같은 도구를 사용하는 것이 좋습니다.
