## 전자 회로의 조합 논리

컴퓨터는 어떤 논리로 비트를 다루는가

<br/>

### 아날로그와 디지털의 차이

- 계산자는 수학적으로 **연속적(continuous)**
- 연속적이라는 말은 실수를 (자릿수 제한 없이) 표현할 수 있다는 뜻
- 반면 손가락은 수학자들이 **이산적(discrete)** (하나하나 다른 존재로 구분된다는 뜻의 한자어), 정수만 표현할 수 있다.
- **아날로그(analog)** 는 연속적인 것을 뜻하며, **디지털(digital)** 은 이산적인 것을 뜻한다.

<br/>

- 하드웨어에서 크기가 중요한 이유
  - 현대 컴퓨터는 전자를 움직인다.
  - 전기는 빛의 속도로 움직이며 빛의 속도는 초당 3억 미터다(초당 10억 피트인 미국은 예외).
  - 이런 물리적인 한계를 뛰어넘는 방법을 아직 발견하지 못했기 때문에, 컴퓨터에서 전자의 여행 시간을 최소화하는 방법은 부품을 가능한 한 가깝게 위치시키는 것 뿐이다.

<br/>

- 디지털을 사용하면 더 안정적인 장치를 만들 수 있다.
  - 현대 컴퓨터 칩 안의 선은 서로 몇 나노미터 떨어져 있다.
  - 현대 CPU 에서 신호 간섭은 마치 도로에서 마주 보는 두 차가 서로 스쳐 지나갈 때 느껴지는 바람과 같다.
  - 이런 **누화(crosstalk)** 효과를 방지할 적절한 방법이 없기 때문에, 더 높은 판정 기준을 통해 **잡음 내성(noise immunity)** 을 갖는 디지털 회로를 사용하는 것이 필수적이다.

<br/>

- 아날로그 세계에서 디지털 만들기
  - 전이 함수는 수학 시간에 배운 함수와 같지만 실제 세계에서 벌어지는 현상을 표현한다는 점만 다르다.
  - 볼륨은 **게인(gain)** 또는 곡선이 가파른 정도를 조절한다.
  -

<br/>

- 10진 숫자 대신 비트를 사용하는 이유
  - 왜 컴퓨터가 10진 숫자가 아니라 비트를 사용할까?
  - 하드웨어에서 비트가 숫자보다 더 좋은 또 다른 이유는 숫자를 사용하면 전이 함수를 각기 다른 10가지 문턱값으로 구분할 수 있는 간단한 방법이 없기 떄문이다.
  - 10진 숫자 하나보다는 10비트를 사용하는 편이 훨씬 낫다.
  - 우리는 전이 함수의 하단부와 상단부 영역을 활용하며, 전기 엔지니어들은 하단부 영역을 **차단(cutoff)** 이라고 부르고 상단부 영역을 **포화(saturation)** 라고 부른다.

<br/>

### 간단한 전기 이론 가이드

- 전기는 수도 배관과 유사하다
  - 전기는 배터리 같은 에너지 근원에서 나온다.
  - 한 밸브의 출력이 다른 밸브의 입력에 연결될 경우, 이런 연결을 **직렬 연결(series connection)** 이라고 한다.
  - 직렬 연결은 AND 연산을 구현한다.
  - **병렬 연결(parallel connection)** 은 두 밸브의 입력을 한 관에 함께 연결하고 두 밸브의 출력을 다른 관에 함께 연결하면 생기는데, OR 연산을 구현한다.
  - 전기가 컴퓨터 칩 내부에서 전파되는데도 시간이 걸린다.
  - 이런 효과를 **전파 지연(propagation delay)** 이라고 부른다.
  - 내부에 있는 (유동성이 있는 전자가 가득한) 금속을 **도체(conductor)**
  - 금속 바깥쪽을 둘러싼 부분을 **부도체(insulator)** 라고 부른다.
  - 전기의 흐름을 제어할 수 있는 밸브를 **스위치(switch)** 라고 부른다.
  - 전기에서 수압에 해당하는 존재는 **전압(voltage)** 이며, 측정 단위는 **볼트(V)**
  - 전기 흐름의 양은 **전류(I)** 측정 단위는 **암페어(A)**
  - **저항(R)** 을 측정할 때 **옴** 을 쓴다.
  - 세 가지 변수(전압, 전류, 저항)는 **옴의 법칙(Ohm's law)** 을 통해 _I = V/R_ 이라는 관계
  - 옴의 법칙 식은 '전류는 전압을 저항으로 나눈 값과 같다'

<br/>

- 전기 스위치
  - 전기 시스템은 **회로(circuit)** 라고 부르며, 스키매틱(계통도 또는 회로도라고 부름)을 통해 문서화한다.
  - 에너지 근원에서 나온 전기는 회로 구성요소를 지나서 다시 근원으로 돌아간다.
  - 그래서 이를 회로라고 부른다.

<br/>

### 비트를 처리하기 위한 하드웨어

- 릴레이
  - **릴레이(relay)** (계전기라고도 부름)는 스위치를 움직이기 위해 전자석을 사용하는 장치
  - 릴레이를 사용하면 스위치로는 불가능한 일을 할 수 있다. 릴레이를 사용하면 NOT 함수를 구현하는 **인버터(inverter)** 를 만들 수 있다.
  - 릴레이는 느리고 전기를 많이 소모하며, 먼지(또는 벌레)가 스위치 접점에 있으면 제대로 작동하지 않는다는 큰 문제가 있다.

<br/>

- 진공관
  - 영국 물리학자이자 전기 엔지니어인 존 앰브로즈 플레밍 경이 진공관을 발명했다.
  - 그는 물체를 충분히 가열하면 전자가 튀어나오는 **열전자 방출(thermionic emission)** 이라는 현상을 기반으로 진공관을 만들었다.
  - 진공관의 장점은 움직이는 부분이 없어서 릴레이보다 훨씬 더 빠르다는 점이다.
  - 단점은 전구와 마찬가지로 진공관도 아주 뜨겁고 깨지기 쉽다는 점이다.

<br/>

- 트랜지스터
  - **전송 저항(transfer resistor)** 이라는 말을 줄인 **트랜지스터(transistor)** 는 진공관과 비슷하지만 **반도체(semiconductor)** 라는 특별한 물질을 사용한다.
  - 반도체는 도체와 부도체 사이를 오갈 수 있는 물질이다.
  - 반도체는 쉽게 녹을 수 있기 때문에, 트랜지스터에서 열을 제거하는 일이 아주 중요한 문제다.
  - 알아둬야 할 중요한 내용은 트랜지스터가 반도체 물질로 이뤄진 **기판(substrate)** 또는 슬랩(slab) 위에 만들어진다는 점이다.
  - 트랜지스터에는 가장 중요한 두 가지 유형은 쌍극 접합 트랜지스터와 필드 효과 트랜지스터다

<br/>

- 집적회로
  - 1958년 잭 킬비라는 미국 엔지니어와 로버트 노이스라는 미국 수학자이자 물리학자가 **집적 회로(integrated curcuit)** 를 발명했다.
  - 집적 회로를 사용하면 복잡한 시스템을 트랜지스터 하나를 만드는 정도의 비용으로 만들 수 있다.
  - 집적 회로는 생긴 모양 때문에 **칩(chip)** 이라고 불렸다.

<br/>

- 논리 게이트

  - 회사인 텍사스 인스트루먼츠가 5400과 7400 집적 회로(이하 IC) 패밀리를 발표
  - 이 칩들에는 논리 연산을 수행하는 회로가 미리 들어가 있다.
  - 이런 회로를 **논리 게이트(logic gate)** 라고 부르며, 그냥 **게이트** 라고도 한다.
  - 논리 게이트는 하드웨어 설계자에게 단비와도 같은 존재

<br/>

- 이력 현상을 활용한 잡음 내성 향상

  - **이력 현상(hysteresis)** 이란 말은 판정 기준이 이력(과거에 벌어진 일)에 따라 달라진다는 뜻이다.
  - 이력을 사용하는 게이트가 있다.
  - **슈미트 트리거(Schmitt trigger)** 라는 게이트는 발명자인 미국 과학자 오토 H. 슈미트의 이름을 딴 것이다.
  - 일반적인 게이트보다 더 복잡하고 비싸기 때문에 정말 필요한 경우에만 슈미트 트리거를 사용한다.

<br/>

- 차동 신호

  - **차동(differential)** (차이나 격차라는 뜻)이라는 이름은 측정하는 값이 서로 **반전관계(complementary)** 인 신호 쌍의 차이를 측정하기 때문에 붙은 이름이다.
  - 반전관계 **출력들(complementary outputs)** 로 변환하는 **드라이버(driver)**
  - 반전관계인 두 입력을 받아서 **단일 신호** 를 만들어주는 **리시버(receiver)**

<br/>

- 전파 지연

  - **전파 지연(propagation delay)** 은 입력의 변화가 출력에 영향을 미칠 때까지 걸리는 시간을 뜻한다.
  - 전파 지연은 정확한 값은 아니고 제조 과정과 온도에 따라 생기는 편차와 게이트 출력에 도달하기까지 연결된 구성 부품의 수에 따라 결정되는 통계적인 측정값이다.

<br/>

- 출력 유형

  - 토템폴 출력
    - 일반적인 게이트 출력은 **토템폴(totem pole)** 이라고 부른다.
    - 토템폴이라는 이름은 트랜지스터가 토템폴(아메리카 인디언들이 세운 기둥 모양의 나무조각, 긴 통나무에 동물 위에 동물 같은 식으로 여러 형상을 조각함)처럼 세로로 나란히 늘어서 있어서 붙은 것이다.
    - 토템폴 출력은 서로 연결할 수는 없다.
    - 0인 출력을 1인 출력과 연결하면 음극과 양극을 서로 연결하는 것과 같은 일이 벌어지기 때문에

  <br/>

  - 오픈 컬렉터 출력
    - 또 다른 유형의 출력으로 **오픈 컬렉터(open-collector)** (BJT 트랜지스터)나 **오픈 드레인(open-drain)** (MOS 트랜지스터) 출력이 있다.
    - 오픈 컬렉터나 오픈 드레인 버전은 액티브 풀업이 없기 때문에 출력을 아무 문제 없이 서로 연결할 수 있다.
    - 필요하면 출력을 **패시브 풀업(passive pull-up)** 에 연결할 수 있다.
    - 패시브 풀업은 단순히 **풀업 저항(pull-up resistor)** 을 논리적인 1값을 공급해주는 공급 전압에 연결한 것이다.
    - 여러 오픈 컬렉터 출력과 패시브 풀업을 사용하면 **와이어드 AND(wired-AND)** 를 만들어낼 수 있다.
    - 오픈 컬렉터 출력 중 0인 값이 하나 이상 있으면 와이어드 AND의 출력은 0이 된다.
    - 이 논리를 부정적인 논리(부논리)로 해석하면 오픈 컬렉터 출력값 중 출력이 1인 값이 하나라도 있으면 출력이 1이 되는 것과 같기 때문에 이를 **와이어드 OR** 이라고 부르기도 한다.
    - 토템폴 장치보다 더 높은 전류를 감당할 수 있다.

  <br/>

  - 트라이스테이트 출력
    - 오픈 컬렉터 회로를 사용하면 출력을 서로 연결할 수 있지만 액티브 풀업을 사용하는 것만큼 응답이 빠르지 않다는 단점이 있다.
    - 따라서 상태가 두 가지인 해법을 버리고 상태가 세 가지인 트라이스테이트(tri-state) 출력을 사용해보자.
    - 세 번째 상태는 꺼진 상태다.
    - 출력을 켜고 끄기 위한 추가 입력인 **활성화(enable)** 입력이 존재한다.
    - 꺼진 상태를 hi-Z라고도 한다. Z는 **임피던스(impedance)** 를 뜻한다.
    - 임피던스는 저항을 수학적으로 복잡하게 부르는 이름이다.
    - 트라이스테이트 출력을 사용하면 수많은 장치를 서로 선으로 직접 연결할 수 있다.
    - 단절은 한번에 단 하나의 장치만 활성화해야 한다는 점이다.

<br/>
